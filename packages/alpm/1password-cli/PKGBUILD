# Maintainer: Okiki <hey@okikio.dev>

pkgname=1password-cli
pkgver=2.31.1
pkgrel=1
pkgdesc="1Password command line tool"
arch=('x86_64' 'i686' 'arm' 'armv6h' 'aarch64')
url="https://app-updates.agilebits.com/product_history/CLI2"
license=('custom')
options=('!strip' '!emptydirs')
depends=('polkit' '1password')
install=${pkgname}.install

source_x86_64=("https://cache.agilebits.com/dist/1P/op2/pkg/v${pkgver}/op_linux_amd64_v${pkgver}.zip")
source_i686=("https://cache.agilebits.com/dist/1P/op2/pkg/v${pkgver}/op_linux_386_v${pkgver}.zip")
source_arm=("https://cache.agilebits.com/dist/1P/op2/pkg/v${pkgver}/op_linux_arm_v${pkgver}.zip")
source_armv6h=("${source_arm}")
source_aarch64=("https://cache.agilebits.com/dist/1P/op2/pkg/v${pkgver}/op_linux_arm64_v${pkgver}.zip")

sha256sums_x86_64=('2e98f0df5977f57bcb2f3e8835e2837660ee4915456ee8ed124e0588a429a5c9')
sha256sums_i686=('b63ab7692770c61d6c94b0b985e4be0034363b346e0b7668ea48ea5d5751383c')
sha256sums_arm=('fe863a4c43767cfba4f7d76ae375e916bba9c941201ecc700f819e255641e913')
sha256sums_armv6h=("${sha256sums_arm}")
sha256sums_aarch64=('87292a7c0546e181526b4f362720a76f9e46bbb6cc24addd44b7573541dd9ab8')

check() {
  if (( ! SKIPPGPCHECK )); then
    gpg --verify-files ${srcdir}/op.sig
  fi
}

package() {
  install -Dm755 op "${pkgdir}/usr/bin/op"
}

# vim:set ts=2 sw=2 et:
